{"version":3,"file":"bundle.umd.js","sources":["bundle.esm.js"],"sourcesContent":["import { getMainDefinition, getFragmentDefinitions, createFragmentMap, shouldInclude, isField, resultKeyNameFromField, isInlineFragment, argumentsObjectFromField, getDirectiveInfoFromField } from 'apollo-utilities';\n\nfunction graphql(resolver, document, rootValue, contextValue, variableValues, execOptions) {\n    if (execOptions === void 0) { execOptions = {}; }\n    var mainDefinition = getMainDefinition(document);\n    var fragments = getFragmentDefinitions(document);\n    var fragmentMap = createFragmentMap(fragments);\n    var resultMapper = execOptions.resultMapper;\n    var fragmentMatcher = execOptions.fragmentMatcher || (function () { return true; });\n    var execContext = {\n        fragmentMap: fragmentMap,\n        contextValue: contextValue,\n        variableValues: variableValues,\n        resultMapper: resultMapper,\n        resolver: resolver,\n        fragmentMatcher: fragmentMatcher,\n    };\n    return executeSelectionSet(mainDefinition.selectionSet, rootValue, execContext);\n}\nfunction executeSelectionSet(selectionSet, rootValue, execContext) {\n    var fragmentMap = execContext.fragmentMap, contextValue = execContext.contextValue, variables = execContext.variableValues;\n    var result = {};\n    selectionSet.selections.forEach(function (selection) {\n        if (!shouldInclude(selection, variables)) {\n            return;\n        }\n        if (isField(selection)) {\n            var fieldResult = executeField(selection, rootValue, execContext);\n            var resultFieldKey = resultKeyNameFromField(selection);\n            if (fieldResult !== undefined) {\n                if (result[resultFieldKey] === undefined) {\n                    result[resultFieldKey] = fieldResult;\n                }\n                else {\n                    merge(result[resultFieldKey], fieldResult);\n                }\n            }\n        }\n        else {\n            var fragment = void 0;\n            if (isInlineFragment(selection)) {\n                fragment = selection;\n            }\n            else {\n                fragment = fragmentMap[selection.name.value];\n                if (!fragment) {\n                    throw new Error(\"No fragment named \" + selection.name.value);\n                }\n            }\n            var typeCondition = fragment.typeCondition.name.value;\n            if (execContext.fragmentMatcher(rootValue, typeCondition, contextValue)) {\n                var fragmentResult = executeSelectionSet(fragment.selectionSet, rootValue, execContext);\n                merge(result, fragmentResult);\n            }\n        }\n    });\n    if (execContext.resultMapper) {\n        return execContext.resultMapper(result, rootValue);\n    }\n    return result;\n}\nfunction executeField(field, rootValue, execContext) {\n    var variables = execContext.variableValues, contextValue = execContext.contextValue, resolver = execContext.resolver;\n    var fieldName = field.name.value;\n    var args = argumentsObjectFromField(field, variables);\n    var info = {\n        isLeaf: !field.selectionSet,\n        resultKey: resultKeyNameFromField(field),\n        directives: getDirectiveInfoFromField(field, variables),\n    };\n    var result = resolver(fieldName, rootValue, args, contextValue, info);\n    if (!field.selectionSet) {\n        return result;\n    }\n    if (result == null) {\n        return result;\n    }\n    if (Array.isArray(result)) {\n        return executeSubSelectedArray(field, result, execContext);\n    }\n    return executeSelectionSet(field.selectionSet, result, execContext);\n}\nfunction executeSubSelectedArray(field, result, execContext) {\n    return result.map(function (item) {\n        if (item === null) {\n            return null;\n        }\n        if (Array.isArray(item)) {\n            return executeSubSelectedArray(field, item, execContext);\n        }\n        return executeSelectionSet(field.selectionSet, item, execContext);\n    });\n}\nvar hasOwn = Object.prototype.hasOwnProperty;\nfunction merge(dest, src) {\n    if (src !== null && typeof src === 'object') {\n        Object.keys(src).forEach(function (key) {\n            var srcVal = src[key];\n            if (!hasOwn.call(dest, key)) {\n                dest[key] = srcVal;\n            }\n            else {\n                merge(dest[key], srcVal);\n            }\n        });\n    }\n}\n\nfunction filter(doc, data) {\n    var resolver = function (fieldName, root, args, context, info) {\n        return root[info.resultKey];\n    };\n    return Array.isArray(data)\n        ? data.map(function (dataObj) { return graphql(resolver, doc, dataObj); })\n        : graphql(resolver, doc, data);\n}\nfunction check(doc, data) {\n    var resolver = function (fieldName, root, args, context, info) {\n        if (!{}.hasOwnProperty.call(root, info.resultKey)) {\n            throw new Error(info.resultKey + \" missing on \" + JSON.stringify(root));\n        }\n        return root[info.resultKey];\n    };\n    graphql(resolver, doc, data, {}, {}, {\n        fragmentMatcher: function () { return false; },\n    });\n}\nvar ANONYMOUS = '<<anonymous>>';\nfunction PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n}\nPropTypeError.prototype = Error.prototype;\nvar reactPropTypeLocationNames = {\n    prop: 'prop',\n    context: 'context',\n    childContext: 'child context',\n};\nfunction createChainableTypeChecker(validate) {\n    function checkType(isRequired, props, propName, componentName, location, propFullName) {\n        componentName = componentName || ANONYMOUS;\n        propFullName = propFullName || propName;\n        if (props[propName] == null) {\n            var locationName = reactPropTypeLocationNames[location];\n            if (isRequired) {\n                if (props[propName] === null) {\n                    return new PropTypeError(\"The \" + locationName + \" `\" + propFullName + \"` is marked as required \" +\n                        (\"in `\" + componentName + \"`, but its value is `null`.\"));\n                }\n                return new PropTypeError(\"The \" + locationName + \" `\" + propFullName + \"` is marked as required in \" +\n                    (\"`\" + componentName + \"`, but its value is `undefined`.\"));\n            }\n            return null;\n        }\n        else {\n            return validate(props, propName, componentName, location, propFullName);\n        }\n    }\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n}\nfunction propType(doc) {\n    return createChainableTypeChecker(function (props, propName) {\n        var prop = props[propName];\n        try {\n            if (!prop.loading) {\n                check(doc, prop);\n            }\n            return null;\n        }\n        catch (e) {\n            return e;\n        }\n    });\n}\n\nexport default graphql;\nexport { filter, check, propType };\n//# sourceMappingURL=bundle.esm.js.map\n"],"names":["getMainDefinition","getFragmentDefinitions","createFragmentMap","shouldInclude","isField","resultKeyNameFromField","isInlineFragment","argumentsObjectFromField","getDirectiveInfoFromField"],"mappings":"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"}